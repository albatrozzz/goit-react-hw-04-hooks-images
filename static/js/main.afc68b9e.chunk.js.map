{"version":3,"sources":["App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","servises/api/api.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","inputValue","setInputValue","className","s","SearchForm","type","button","label","input","autoComplete","autoFocus","placeholder","onInput","event","target","value","ImageGallery","children","onClick","ImageGalleryItem","array","map","item","src","previewURL","alt","tags","id","image","Button","modalRoot","document","querySelector","Modal","closeModal","useEffect","window","addEventListener","onCloseModal","removeEventListener","code","createPortal","Overlay","currentTarget","largeImageURL","api","searchQuery","query","pageNumber","fetch","then","response","json","catch","error","console","log","App","setSearchQuery","searchResults","setSearchResults","setPageNumber","totalPages","setTotalPages","modalImage","setModalImage","showLoading","setShowLoading","showModal","setShowModal","Math","ceil","total","hits","length","newPictures","concat","preventDefault","lastChild","elemNumber","indexOf","Number","elem","color","height","width","visible","prev","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.afc68b9e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__Vna5X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__GwTQm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3lyzL\"};","import { useState } from \"react\";\r\nimport s from './Searchbar.module.css'\r\n\r\n\r\nexport default function Searchbar({onSubmit}){\r\n\r\n    const [inputValue, setInputValue] = useState('')\r\n\r\n    const onInput = (event) => {\r\n        setInputValue(event.target.value)\r\n    }\r\n\r\n    return(\r\n        <header className= {s.Searchbar}>\r\n            <form className={s.SearchForm} onSubmit = {onSubmit}> \r\n                <button type=\"submit\" className={s.button} >\r\n                <span className={s.label}>Search</span>\r\n                </button>\r\n\r\n                <input\r\n                className={s.input}\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                placeholder=\"Search images and photos\"\r\n                onInput = {onInput}\r\n                value = {inputValue}\r\n                />\r\n            </form>\r\n        </header>\r\n    )\r\n\r\n}","import PropTypes from 'prop-types'\r\nimport s from './ImageGallery.module.css'\r\n\r\nexport default function ImageGallery({children, onClick}){\r\n    return(\r\n        <ul className={s.ImageGallery} onClick = {onClick}>\r\n            {children}\r\n        </ul>\r\n    )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    onClick: PropTypes.func\r\n}","import PropTypes from 'prop-types'\r\nimport s from './ImageGalleryItem.module.css'\r\n\r\nexport default function ImageGalleryItem({array}){\r\n    return array.map(item => {\r\n        return (\r\n            <li className={s.ImageGalleryItem} key = {item.id} >\r\n                <img src={item.previewURL} alt={item.tags} id = {item.id} className = {s.image}/>\r\n            </li>\r\n        )\r\n    })\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    array: PropTypes.array\r\n}","import PropTypes from 'prop-types'\r\nimport s from './Button.module.css'\r\n\r\nexport default function Button({onClick}){\r\n    return(\r\n        <button type='button' className={s.Button} onClick = {onClick}>Load more</button>\r\n    )\r\n}\r\n\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func\r\n}","import { useEffect } from 'react'\r\nimport { createPortal } from \"react-dom\"\r\nimport s from './Modal.module.css'\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\nexport default function Modal({ image, closeModal}){\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', onCloseModal)\r\n\r\n        return () =>{\r\n            window.removeEventListener('keydown', onCloseModal)\r\n        }\r\n    })\r\n\r\n\r\n    const overlayClick = (event) => {\r\n        if (event.target === event.currentTarget){\r\n            closeModal()\r\n        }\r\n    }\r\n\r\n    const onCloseModal = (event) => {\r\n        if (event.code === 'Escape'){\r\n            closeModal()\r\n        }\r\n    }\r\n\r\n    return createPortal(\r\n        <div className={s.Overlay} onClick = {overlayClick}>\r\n            <div className={s.Modal} >\r\n                <img src={image.largeImageURL} alt={image.tags} />\r\n            </div>\r\n        </div>, modalRoot\r\n    )\r\n}\r\n","function searchQuery(query, pageNumber){\r\n    const apiKey = '23472343-684e35cdd5517f1d2662ecb2d'\r\n    return (fetch(`https://pixabay.com/api/?q=${query}&page=${pageNumber}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`)\r\n    .then(response => {return response.json()}))\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nconst api = {\r\n    searchQuery\r\n}\r\n\r\nexport default api","import { useState, useEffect } from 'react';\r\nimport Loader from \"react-loader-spinner\"\r\nimport s from './App.module.css';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\r\nimport Button from './components/Button/Button';\r\nimport Modal from './components/Modal/Modal';\r\nimport api from './servises/api/api';\r\n\r\nfunction App(){\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [searchResults, setSearchResults] = useState([])\r\n  const [pageNumber, setPageNumber] = useState(1)\r\n  const [totalPages, setTotalPages] = useState(null)\r\n  const [modalImage, setModalImage] = useState([])\r\n  const [showLoading, setShowLoading] = useState(false)\r\n  const [showModal, setShowModal] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (searchQuery === ''){\r\n      return\r\n    }\r\n    setShowLoading(true)\r\n    api.searchQuery(searchQuery, pageNumber).then(response => {\r\n      setTotalPages(Math.ceil(response.total / response.hits.length))\r\n      const newPictures = searchResults.concat(response.hits)\r\n      if (pageNumber === totalPages){\r\n        setTotalPages(null)\r\n      }\r\n      setSearchResults(newPictures)\r\n      setShowLoading(false)\r\n    }).catch(error => console.log(error))\r\n    // eslint-disable-next-line\r\n  }, [searchQuery, pageNumber])\r\n\r\nconst onSubmitForm = (event) => {\r\n  event.preventDefault()\r\n  setSearchQuery(event.target.lastChild.value)\r\n  setPageNumber(1)\r\n  setSearchResults([])\r\n  setTotalPages(null)\r\n  }\r\n\r\n\r\n  const loadMoreImages = () => {\r\n    setPageNumber(prev => prev + 1)\r\n  }\r\n\r\n  const renderModalImage = (event) => {\r\n    const elemNumber = searchResults.map(item => {\r\n      return item.id\r\n    }).indexOf(Number(event.target.id))\r\n    const elem = searchResults[elemNumber]\r\n    setModalImage(elem)\r\n    setShowModal(true)\r\n  }\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false)\r\n    }\r\n  \r\n    return(\r\n      <div className = {s.App}> \r\n        <Searchbar onSubmit = {onSubmitForm}/>\r\n        <ImageGallery onClick = {renderModalImage}>\r\n          <ImageGalleryItem array = {searchResults} />\r\n        </ImageGallery>\r\n        <Loader\r\n          type=\"Circles\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          visible={showLoading}\r\n        />\r\n        {totalPages && <Button onClick = {loadMoreImages}/>}\r\n        {showModal && <Modal image = {modalImage} closeModal = {closeModal}/>}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__13Nae\",\"SearchForm\":\"Searchbar_SearchForm__2c0yM\",\"button\":\"Searchbar_button__1lCTT\",\"label\":\"Searchbar_label__3t6dX\",\"input\":\"Searchbar_input__2O8F9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2QPmt\",\"image\":\"ImageGalleryItem_image__E5tjm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__dEcTH\",\"Modal\":\"Modal_Modal__1P2C8\"};"],"sourceRoot":""}